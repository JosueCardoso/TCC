‘
\G:\Estimatz\Estimatz.API\Estimatz.API\Application\Estimatz.API\Controllers\BaseController.cs
	namespace 	
Estimatz
 
. 
API 
. 
Controllers "
{ 
[ 
ApiController 
] 
public		 

class		 
BaseController		 
:		  !

Controller		" ,
{

 
private 
readonly 
INotificator %
_notificator& 2
;2 3
	protected 
readonly 
	IMediator $
_mediatr% -
;- .
public 
BaseController 
( 
INotificator *
notificator+ 6
,6 7
	IMediator8 A
mediatrB I
)I J
{ 	
_notificator 
= 
notificator &
;& '
_mediatr 
= 
mediatr 
; 
} 	
	protected 
ActionResult 
CustomResponse -
(- .
object. 4
result5 ;
=< =
null> B
)B C
{ 	
if 
( 
_notificator 
. 
IsSucess %
&&& (
_notificator) 5
.5 6
HasMessages6 A
)A B
return 
Ok 
( 
new 
ActionResponse ,
(, -
success- 4
:4 5
true6 :
,: ;
messages< D
:D E
_notificatorF R
.R S
MessagesS [
.[ \
Select\ b
(b c
xc d
=>e g
xh i
)i j
)j k
)k l
;l m
else 
if 
( 
_notificator !
.! "
IsSucess" *
)* +
return 
Ok 
( 
new 
ActionResponse ,
(, -
success- 4
:4 5
true6 :
,: ;
data< @
:@ A
resultB H
,H I
messagesJ R
:R S
nullT X
)X Y
)Y Z
;Z [
return 

BadRequest 
( 
new !
ActionResponse" 0
(0 1
success1 8
:8 9
false: ?
,? @
messagesA I
:I J
_notificatorK W
.W X
MessagesX `
.` a
Selecta g
(g h
xh i
=>j l
xm n
)n o
)o p
)p q
;q r
} 	
} 
} ñ*
_G:\Estimatz\Estimatz.API\Estimatz.API\Application\Estimatz.API\Controllers\v1\RoomController.cs
	namespace 	
Estimatz
 
. 
API 
. 
Controllers "
." #
v1# %
{ 
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 

(
 
$str 3
)3 4
]4 5
[ 
ApiController 
] 
public 

class 
RoomController 
:  !
BaseController" 0
{ 
public 
RoomController 
( 
	IMediator '
mediatr( /
,/ 0
INotificator1 =
notificator> I
)I J
:K L
baseM Q
(Q R
notificatorR ]
,] ^
mediatr_ f
)f g
{ 	
}	 

[ 	
HttpPost	 
( 
$str 
)  
]  !
public 
async 
Task 
< 
ActionResult &
>& '
SaveRoom( 0
(0 1
SaveRoomCommand1 @
requestA H
)H I
{ 	
return 
CustomResponse !
(! "
await" '
_mediatr( 0
.0 1
Send1 5
(5 6
request6 =
)= >
)> ?
;? @
} 	
[ 	
HttpGet	 
( 
$str #
)# $
]$ %
public 
async 
Task 
< 
ActionResult &
>& '
GetAllSimpleRooms( 9
(9 :
[: ;
	FromQuery; D
]D E
[E F
RequiredF N
]N O
GuidP T
userIdU [
)[ \
{ 	
var 
response 
= 
await  
_mediatr! )
.) *
Send* .
(. /
new/ 2
GetSimpleRoomsQuery3 F
{G H
UserIdI O
=P Q
userIdR X
}Y Z
)Z [
;[ \
return 
CustomResponse !
(! "
response" *
)* +
;+ ,
}   	
["" 	
HttpGet""	 
("" 
$str"" 
)"" 
]"" 
public## 
async## 
Task## 
<## 
ActionResult## &
>##& '
GetRoom##( /
(##/ 0
[##0 1
	FromQuery##1 :
]##: ;
[##; <
Required##< D
]##D E
Guid##F J
roomId##K Q
,##Q R
[##S T
	FromQuery##T ]
]##] ^
[##^ _
Required##_ g
]##g h
Guid##i m
userId##n t
)##t u
{$$ 	
var%% 
response%% 
=%% 
await%%  
_mediatr%%! )
.%%) *
Send%%* .
(%%. /
new%%/ 2
GetRoomQuery%%3 ?
{%%@ A
RoomId%%B H
=%%I J
roomId%%K Q
,%%Q R
UserId%%S Y
=%%Z [
userId%%\ b
}%%c d
)%%d e
;%%e f
return&& 
CustomResponse&& !
(&&! "
response&&" *
)&&* +
;&&+ ,
}'' 	
[)) 	

HttpDelete))	 
()) 
$str)) "
)))" #
]))# $
public** 
async** 
Task** 
<** 
ActionResult** &
>**& '

DeleteRoom**( 2
(**2 3
[**3 4
	FromQuery**4 =
]**= >
[**> ?
Required**? G
]**G H
Guid**I M
roomId**N T
,**T U
[**V W
	FromQuery**W `
]**` a
[**a b
Required**b j
]**j k
Guid**l p
userId**q w
)**w x
{++ 	
await,, 
_mediatr,, 
.,, 
Send,, 
(,,  
new,,  #
DeleteRoomCommand,,$ 5
{,,6 7
RoomId,,8 >
=,,? @
roomId,,A G
,,,G H
UserId,,I O
=,,P Q
userId,,R X
},,Y Z
),,Z [
;,,[ \
return-- 
CustomResponse-- !
(--! "
)--" #
;--# $
}.. 	
[00 	
HttpGet00	 
(00 
$str00 !
)00! "
]00" #
public11 
async11 
Task11 
<11 
ActionResult11 &
>11& '
GetIndicators11( 5
(115 6
[116 7
	FromQuery117 @
]11@ A
[11A B
Required11B J
]11J K
Guid11L P
userId11Q W
)11W X
{22 	
var33 
resposne33 
=33 
await33  
_mediatr33! )
.33) *
Send33* .
(33. /
new33/ 2
GetIndicatorsQuery333 E
{33F G
UserId33H N
=33O P
userId33Q W
}33X Y
)33Y Z
;33Z [
return44 
CustomResponse44 !
(44! "
resposne44" *
)44* +
;44+ ,
}55 	
}66 
}77 ç
`G:\Estimatz\Estimatz.API\Estimatz.API\Application\Estimatz.API\Controllers\v1\StoryController.cs
	namespace 	
Estimatz
 
. 
API 
. 
Controllers "
." #
v1# %
{ 
[ 

ApiVersion 
( 
$str 
) 
] 
[ 
Route 

(
 
$str 3
)3 4
]4 5
[ 
ApiController 
] 
public 

class 
StoryController  
:! "
BaseController# 1
{ 
public 
StoryController 
( 
INotificator +
notificator, 7
,7 8
	IMediator9 B
mediatrC J
)J K
:L M
baseN R
(R S
notificatorS ^
,^ _
mediatr` g
)g h
{i j
}j k
[ 	
HttpPost	 
( 
$str 
) 
] 
public 
async 
Task 
< 
ActionResult &
>& '
AddStory( 0
(0 1
AddStoryCommand1 @
requestA H
)H I
{ 	
await 
_mediatr 
. 
Send 
(  
request  '
)' (
;( )
return 
CustomResponse !
(! "
)" #
;# $
} 	
[ 	
HttpPost	 
( 
$str  
)  !
]! "
public 
async 
Task 
< 
ActionResult &
>& '
RemoveStory( 3
(3 4
RemoveStoryCommand4 F
requestG N
)N O
{ 	
await 
_mediatr 
. 
Send 
(  
request  '
)' (
;( )
return 
CustomResponse !
(! "
)" #
;# $
}   	
["" 	
HttpPost""	 
("" 
$str"" '
)""' (
]""( )
public## 
async## 
Task## 
<## 
ActionResult## &
>##& '
UpdateStatusStory##( 9
(##9 :$
UpdateStatusStoryCommand##: R
request##S Z
)##Z [
{$$ 	
await%% 
_mediatr%% 
.%% 
Send%% 
(%%  
request%%  '
)%%' (
;%%( )
return&& 
CustomResponse&& !
(&&! "
)&&" #
;&&# $
}'' 	
[)) 	
HttpGet))	 
()) 
$str)) 
))) 
])) 
public** 
async** 
Task** 
<** 
ActionResult** &
>**& '
GetStory**( 0
(**0 1
[**1 2
	FromQuery**2 ;
]**; <
[**< =
Required**= E
]**E F
Guid**G K
roomId**L R
,**R S
[**T U
	FromQuery**U ^
]**^ _
[**_ `
Required**` h
]**h i
Guid**j n
storyId**o v
)**v w
{++ 	
var,, 
response,, 
=,, 
await,,  
_mediatr,,! )
.,,) *
Send,,* .
(,,. /
new,,/ 2
GetStoryQuery,,3 @
{,,A B
RoomId,,C I
=,,J K
roomId,,L R
,,,R S
StoryId,,T [
=,,\ ]
storyId,,^ e
},,f g
),,g h
;,,h i
return-- 
CustomResponse-- !
(--! "
response--" *
)--* +
;--+ ,
}.. 	
}// 
}00 ûW
RG:\Estimatz\Estimatz.API\Estimatz.API\Application\Estimatz.API\Hubs\PlanningHub.cs
	namespace 	
Estimatz
 
. 
API 
. 
Hubs 
{ 
public 

class 
PlanningHub 
: 
Hub "
{ 
private 
readonly 
IUserRepository (
_userRepository) 8
;8 9
private 
readonly 
IRoomRepository (
_roomRepository) 8
;8 9
private 
readonly 
	IMediator "
_mediatr# +
;+ ,
public 
PlanningHub 
( 
IUserRepository *
userRepository+ 9
,9 :
IRoomRepository; J
roomRepositoryK Y
,Y Z
	IMediator[ d
mediatre l
)l m
{ 	
_userRepository 
= 
userRepository ,
;, -
_roomRepository 
= 
roomRepository ,
;, -
_mediatr 
= 
mediatr 
; 
} 	
public 
override 
Task 
OnConnectedAsync -
(- .
). /
{ 	
var 
user 
= 
JsonConvert "
." #
DeserializeObject# 4
<4 5
UserPlanning5 A
>A B
(B C
ContextC J
.J K
GetHttpContextK Y
(Y Z
)Z [
.[ \
Request\ c
.c d
Queryd i
[i j
$strj p
]p q
)q r
;r s
_userRepository 
. 
AddUser #
(# $
user$ (
)( )
;) *
Groups 
. 
AddToGroupAsync "
(" #
Context# *
.* +
ConnectionId+ 7
,7 8
user9 =
.= >
RoomId> D
.D E
ToStringE M
(M N
)N O
)O P
;P Q
Clients   
.   
Group   
(   
user   
.   
RoomId   %
.  % &
ToString  & .
(  . /
)  / 0
)  0 1
.  1 2
	SendAsync  2 ;
(  ; <
$str  < F
,  F G
_userRepository  H W
.  W X
GetAllUserByRoom  X h
(  h i
user  i m
.  m n
RoomId  n t
)  t u
)  u v
;  v w
return"" 
base"" 
."" 
OnConnectedAsync"" (
(""( )
)"") *
;""* +
}## 	
public%% 
override%% 
Task%% 
OnDisconnectedAsync%% 0
(%%0 1
	Exception%%1 :
?%%: ;
	exception%%< E
=%%F G
null%%H L
)%%L M
{&& 	
var'' 
user'' 
='' 
JsonConvert'' "
.''" #
DeserializeObject''# 4
<''4 5
UserPlanning''5 A
>''A B
(''B C
Context''C J
.''J K
GetHttpContext''K Y
(''Y Z
)''Z [
.''[ \
Request''\ c
.''c d
Query''d i
[''i j
$str''j p
]''p q
)''q r
;''r s
_userRepository(( 
.(( 

RemoveUser(( &
(((& '
user((' +
)((+ ,
;((, -
Groups** 
.**  
RemoveFromGroupAsync** '
(**' (
Context**( /
.**/ 0
ConnectionId**0 <
,**< =
user**> B
.**B C
RoomId**C I
.**I J
ToString**J R
(**R S
)**S T
)**T U
;**U V
Clients++ 
.++ 
Group++ 
(++ 
user++ 
.++ 
RoomId++ %
.++% &
ToString++& .
(++. /
)++/ 0
)++0 1
.++1 2
	SendAsync++2 ;
(++; <
$str++< G
,++G H
_userRepository++I X
.++X Y
GetAllUserByRoom++Y i
(++i j
user++j n
.++n o
RoomId++o u
)++u v
)++v w
;++w x
return-- 
base-- 
.-- 
OnDisconnectedAsync-- +
(--+ ,
	exception--, 5
)--5 6
;--6 7
}.. 	
public00 
async00 
Task00 
StartVotingAdm00 (
(00( )
Guid00) -
roomId00. 4
,004 5
Guid006 :
storyId00; B
)00B C
{11 	
await22 
Clients22 
.22 
Group22 
(22  
roomId22  &
.22& '
ToString22' /
(22/ 0
)220 1
)221 2
.222 3
	SendAsync223 <
(22< =
$str22= J
,22J K
storyId22L S
.22S T
ToString22T \
(22\ ]
)22] ^
)22^ _
;22_ `
}33 	
public55 
async55 
Task55 
StopVotingAdm55 '
(55' (
Guid55( ,
roomId55- 3
,553 4
Guid555 9
storyId55: A
)55A B
{66 	
await77 
Clients77 
.77 
Group77 
(77  
roomId77  &
.77& '
ToString77' /
(77/ 0
)770 1
)771 2
.772 3
	SendAsync773 <
(77< =
$str77= I
,77I J
storyId77K R
.77R S
ToString77S [
(77[ \
)77\ ]
)77] ^
;77^ _
}88 	
public:: 
async:: 
Task:: 
Voting::  
(::  !
Guid::! %
roomId::& ,
,::, -
Guid::. 2
userId::3 9
,::9 :
Guid::; ?
storyId::@ G
,::G H
string::I O
voting::P V
)::V W
{;; 	
_userRepository<< 
.<< 
SetVote<< #
(<<# $
roomId<<$ *
,<<* +
userId<<, 2
,<<2 3
storyId<<4 ;
,<<; <
voting<<= C
)<<C D
;<<D E
await== 
Clients== 
.== 
Group== 
(==  
roomId==  &
.==& '
ToString==' /
(==/ 0
)==0 1
)==1 2
.==2 3
	SendAsync==3 <
(==< =
$str=== I
,==I J
userId==K Q
)==Q R
;==R S
}>> 	
public@@ 
async@@ 
Task@@ 
	TurnCards@@ #
(@@# $
Guid@@$ (
roomId@@) /
,@@/ 0
Guid@@1 5
storyId@@6 =
)@@= >
{AA 	
_userRepositoryBB 
.BB 
	TurnCardsBB %
(BB% &
roomIdBB& ,
,BB, -
storyIdBB. 5
)BB5 6
;BB6 7
varDD 
roomDD 
=DD 
awaitDD 
_roomRepositoryDD ,
.DD, -
FindRoomDD- 5
(DD5 6
roomIdDD6 <
)DD< =
;DD= >
varEE 
usersEE 
=EE 
_userRepositoryEE '
.EE' (
GetAllUserByRoomEE( 8
(EE8 9
roomIdEE9 ?
)EE? @
;EE@ A
ListFF 
<FF 
stringFF 
>FF 
votesFF 
=FF  
newFF! $
ListFF% )
<FF) *
stringFF* 0
>FF0 1
(FF1 2
)FF2 3
;FF3 4
foreachHH 
(HH 
varHH 
userHH 
inHH 
usersHH  %
)HH% &
{II 
varJJ 
	storyVoteJJ 
=JJ 
userJJ  $
.JJ$ %
VotesJJ% *
.JJ* +
FirstOrDefaultJJ+ 9
(JJ9 :
xJJ: ;
=>JJ< >
xJJ? @
.JJ@ A
StoryIdJJA H
==JJI K
storyIdJJL S
)JJS T
.JJT U
VoteJJU Y
;JJY Z
votesKK 
.KK 
AddKK 
(KK 
	storyVoteKK #
)KK# $
;KK$ %
}LL 
varNN 
resultVotingNN 
=NN %
AbstractFactoryCalculatorNN 8
.NN8 9

GetFactoryNN9 C
(NNC D
roomNND H
.NNH I

RoomConfigNNI S
.NNS T
EstimateTypeNNT `
)NN` a
.NNa b
CalculeNNb i
(NNi j
votesNNj o
,NNo p
roomNNq u
.NNu v

RoomConfig	NNv Ä
.
NNÄ Å
Deck
NNÅ Ö
)
NNÖ Ü
;
NNÜ á
awaitPP 
_mediatrPP 
.PP 
SendPP 
(PP  
newPP  #"
UpdateStoryVoteCommandPP$ :
{PP; <
RoomIdPP= C
=PPD E
roomIdPPF L
,PPL M
StoryIdPPN U
=PPV W
storyIdPPX _
,PP_ `
VotingResultPPa m
=PPn o
resultVotingPPp |
}PP} ~
)PP~ 
;	PP Ä
awaitQQ 
ClientsQQ 
.QQ 
GroupQQ 
(QQ  
roomIdQQ  &
.QQ& '
ToStringQQ' /
(QQ/ 0
)QQ0 1
)QQ1 2
.QQ2 3
	SendAsyncQQ3 <
(QQ< =
$strQQ= J
,QQJ K
_userRepositoryQQL [
.QQ[ \
GetAllUserByRoomQQ\ l
(QQl m
roomIdQQm s
)QQs t
,QQt u
resultVoting	QQv Ç
)
QQÇ É
;
QQÉ Ñ
}RR 	
publicTT 
asyncTT 
TaskTT 
RefreshVotesTT &
(TT& '
GuidTT' +
roomIdTT, 2
,TT2 3
GuidTT4 8
storyIdTT9 @
)TT@ A
{UU 	
_userRepositoryVV 
.VV 
RefreshVotesVV (
(VV( )
roomIdVV) /
,VV/ 0
storyIdVV1 8
)VV8 9
;VV9 :
awaitWW 
ClientsWW 
.WW 
GroupWW 
(WW  
roomIdWW  &
.WW& '
ToStringWW' /
(WW/ 0
)WW0 1
)WW1 2
.WW2 3
	SendAsyncWW3 <
(WW< =
$strWW= M
,WWM N
_userRepositoryWWO ^
.WW^ _
GetAllUserByRoomWW_ o
(WWo p
roomIdWWp v
)WWv w
)WWw x
;WWx y
}XX 	
}__ 
publicaa 

classaa 
Messageaa 
{bb 
publiccc 
Guidcc 
destinationcc 
{cc  !
getcc" %
;cc% &
setcc' *
;cc* +
}cc, -
publicdd 
UserPlanningdd 
senderdd "
{dd# $
getdd% (
;dd( )
setdd* -
;dd- .
}dd/ 0
publicee 
stringee 
messageee 
{ee 
getee  #
;ee# $
setee% (
;ee( )
}ee* +
}ff 
}gg ‡
WG:\Estimatz\Estimatz.API\Estimatz.API\Application\Estimatz.API\Models\ActionResponse.cs
	namespace 	
Estimatz
 
. 
API 
. 
Models 
{ 
public 

class 
ActionResponse 
{ 
public 
ActionResponse 
( 
bool "
success# *
,* +
object, 2
data3 7
,7 8
object9 ?
messages@ H
)H I
{ 	
Success 
= 
success 
; 
Data 
= 
data 
; 
Messages		 
=		 
messages		 
;		  
}

 	
public 
ActionResponse 
( 
bool "
success# *
,* +
object, 2
messages3 ;
); <
{ 	
Success 
= 
success 
; 
Messages 
= 
messages 
;  
} 	
public 
bool 
Success 
{ 
get !
;! "
set# &
;& '
}( )
public 
object 
? 
Data 
{ 
get !
;! "
set# &
;& '
}( )
public 
object 
? 
Messages 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ≈9
IG:\Estimatz\Estimatz.API\Estimatz.API\Application\Estimatz.API\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. 
AddCors 
( 
options  
=>! #
{ 
options 
. 
	AddPolicy 
( 
name 
: 
$str &
,& '
builder 
=> 
{ 	
builder 
. 
WithOrigins 
(  
$str  8
)8 9
. 
AllowAnyMethod 
( 
) 
. 
AllowAnyHeader 
( 
) 
. 
AllowCredentials 
( 
) 
;  
} 	
)	 

;
 
} 
) 
; 
builder   
.   
Services   
.   

AddSignalR   
(   
)   
;   
builder!! 
.!! 
Services!! 
.!! #
AddEndpointsApiExplorer!! (
(!!( )
)!!) *
;!!* +
builder"" 
."" 
Services"" 
."" 
AddSwaggerGen"" 
("" 
)""  
;""  !
builder$$ 
.$$ 
Services$$ 
.$$ 
AddAutoMapper$$ 
($$ 
typeof$$ %
($$% &
RoomMapping$$& 1
)$$1 2
)$$2 3
;$$3 4
builder%% 
.%% 
Services%% 
.%% 
	AddScoped%% 
<%% 
INotificator%% '
,%%' ( 
NotificationsService%%) =
>%%= >
(%%> ?
)%%? @
;%%@ A
builder&& 
.&& 
Services&& 
.&& 
	AddScoped&& 
<&& 
IUserRepository&& *
,&&* +
UserRepository&&, :
>&&: ;
(&&; <
)&&< =
;&&= >
builder'' 
.'' 
Services'' 
.'' 
AddSingleton'' 
<'' 

IUserCache'' (
,''( )
	UserCache''* 3
>''3 4
(''4 5
)''5 6
;''6 7
builder(( 
.(( 
Services(( 
.(( 

AddMediatR(( 
((( 
cfg(( 
=>((  "
cfg((# &
.((& '(
RegisterServicesFromAssembly((' C
(((C D
typeof((D J
(((J K"
SaveRoomCommandHandler((K a
)((a b
.((b c
Assembly((c k
)((k l
)((l m
;((m n
builder)) 
.)) 
Services)) 
.)) 

AddMediatR)) 
()) 
cfg)) 
=>))  "
cfg))# &
.))& '(
RegisterServicesFromAssembly))' C
())C D
typeof))D J
())J K&
GetSimpleRoomsQueryHandler))K e
)))e f
.))f g
Assembly))g o
)))o p
)))p q
;))q r
var,, 
config,, 

=,, 
new,,  
ConfigurationBuilder,, %
(,,% &
),,& '
.-- 
SetBasePath-- 
(-- 
	Directory-- 
.-- 
GetCurrentDirectory-- .
(--. /
)--/ 0
)--0 1
... 
AddJsonFile.. 
(.. 
$str.. #
)..# $
.// 
Build// 

(//
 
)// 
;// 
var11 
cosmosConfig11 
=11 
config11 
.11 

GetSection11 $
(11$ %
$str11% 3
)113 4
;114 5
builder22 
.22 
Services22 
.22 
	Configure22 
<22 
CosmosConfig22 '
>22' (
(22( )
cosmosConfig22) 5
)225 6
;226 7
builder33 
.33 
Services33 
.33 
AddSingleton33 
<33 
ICosmosDBClient33 -
,33- .
CosmosDBClient33/ =
>33= >
(33> ?
)33? @
;33@ A
builder44 
.44 
Services44 
.44 
AddSingleton44 
<44 
IRoomRepository44 -
,44- .
RoomRepository44/ =
>44= >
(44> ?
)44? @
;44@ A
builder55 
.55 
Services55 
.55 
AddSingleton55 
<55 
IStoryRepository55 .
,55. /
StoryRepository550 ?
>55? @
(55@ A
)55A B
;55B C
builder77 
.77 
Services77 
.77 
AddApiVersioning77 !
(77! "
options77" )
=>77* ,
{88 
options99 
.99 
DefaultApiVersion99 
=99 
new99  #

ApiVersion99$ .
(99. /
$num99/ 0
,990 1
$num992 3
)993 4
;994 5
options:: 
.:: /
#AssumeDefaultVersionWhenUnspecified:: /
=::0 1
true::2 6
;::6 7
options;; 
.;; 
ReportApiVersions;; 
=;; 
true;;  $
;;;$ %
}<< 
)<< 
;<< 
var>> 
app>> 
=>> 	
builder>>
 
.>> 
Build>> 
(>> 
)>> 
;>> 
ifAA 
(AA 
appAA 
.AA 
EnvironmentAA 
.AA 
IsDevelopmentAA !
(AA! "
)AA" #
)AA# $
{BB 
appCC 
.CC 

UseSwaggerCC 
(CC 
)CC 
;CC 
appDD 
.DD 
UseSwaggerUIDD 
(DD 
cDD 
=>DD 
{EE 
cFF 	
.FF	 

SwaggerEndpointFF
 
(FF 
$strFF 4
,FF4 5
$strFF6 D
)FFD E
;FFE F
}GG 
)GG 
;GG 
}HH 
appII 
.II 
UseWebSocketsII 
(II 
)II 
;II 
appJJ 
.JJ 
UseHttpsRedirectionJJ 
(JJ 
)JJ 
;JJ 
appKK 
.KK 

UseRoutingKK 
(KK 
)KK 
;KK 
appLL 
.LL 
UseCorsLL 
(LL 
$strLL 
)LL 
;LL 
appNN 
.NN 
UseEndpointsNN 
(NN 
routesNN 
=>NN 
{OO 
routesPP 

.PP
 
MapHubPP 
<PP 
PlanningHubPP 
>PP 
(PP 
$strPP *
)PP* +
;PP+ ,
routesQQ 

.QQ
 
MapControllersQQ 
(QQ 
)QQ 
;QQ 
}RR 
)RR 
;RR 
appTT 
.TT 
RunTT 
(TT 
)TT 	
;TT	 
